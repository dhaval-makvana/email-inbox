@import "tailwindcss";

/* ------------- Base neutrals (light mode) ------------- */
:root {
  /* Page + text */
  --color-bg: #ffffff; /* page background */
  --color-fg: #0f172a; /* primary text */
  --color-muted: #6b7280; /* secondary text (slate-500) */

  /* Surfaces */
  --color-border: #e5e7eb; /* neutral border */
  --color-surface: #ffffff; /* cards */
  --surface-elev-1: #ffffff; /* normal row */
  --surface-elev-2: #eff6ff; /* unread row (very light blue) */

  /* Primary defaults (partner overrides below) */
  --color-primary: #2563eb; /* tailwind blue-600 */
  --color-primary-soft: #dbeafe; /* blue-100 (soft fill) */
  --color-primary-contrast: #ffffff; /* text on primary */

  /* Status (spam / danger) */
  --spam-bg: #fee2e2; /* red-100 */
  --spam-fg: #b91c1c; /* red-700 */

  /* Placeholder */
  --placeholder: rgba(107, 114, 128, 0.6); /* gray-500 @ 60% */

  /* Shadows / misc */
  --shadow-sm: 0 1px 2px rgba(15, 23, 42, 0.06);
}

/* ------------- Dark mode neutrals ------------- */
html.dark {
  --color-bg: #020617; /* slate-950 */
  --color-fg: #e5e7eb; /* slate-200 */
  --color-muted: #9ca3af; /* gray-400 */

  --color-border: #1f2937; /* gray-800 */
  --color-surface: #020617; /* header/page surface */
  --surface-elev-1: #020617; /* rows */
  --surface-elev-2: #0b1220; /* unread row */

  /* primary soft + contrast in dark; actual primary via partner below */
  --color-primary-soft: #0b1220;
  --color-primary-contrast: #020617;

  /* spam / danger */
  --spam-bg: #7f1d1d; /* red-900 */
  --spam-fg: #fecaca; /* red-200 */

  /* Placeholder */
  --placeholder: rgba(148, 163, 184, 0.45); /* gray-400 @ ~45% */

  --shadow-sm: 0 2px 6px rgba(15, 23, 42, 0.4);
}

/* ------------- Partner themes (light) ------------- */

[data-theme="blue"] {
  --color-primary: #2563eb; /* blue-600 */
  --color-primary-soft: #dbeafe; /* blue-100 */
  --color-primary-contrast: #ffffff;
}

[data-theme="green"] {
  --color-primary: #16a34a; /* green-600 */
  --color-primary-soft: #dcfce7; /* green-100 */
  --color-primary-contrast: #ffffff;
}

/* ------------- Partner themes (dark) ------------- */

html.dark[data-theme="blue"] {
  --color-primary: #60a5fa; /* blue-400 */
  --color-primary-soft: #0b1220;
  --color-primary-contrast: #020617;
}

html.dark[data-theme="green"] {
  --color-primary: #4ade80; /* green-400 */
  --color-primary-soft: #052e16;
  --color-primary-contrast: #ecfdf5;
}

/* ------------- Global element styles ------------- */

body {
  background: var(--color-bg);
  color: var(--color-fg);
  font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto,
    "Helvetica Neue", Arial;
  -webkit-font-smoothing: antialiased;
}

/* Layout helper */
.container-max {
  max-width: 1100px;
  margin-inline: auto;
  padding-inline: 1rem;
}

/* ------------- PRIMARY button ------------- */

.btn {
  background: var(--color-primary);
  color: var(--color-primary-contrast);
  padding: 0.4rem 0.8rem;
  border-radius: 0.375rem;
  border: 1px solid
    color-mix(in srgb, var(--color-primary) 40%, var(--color-border));
  box-shadow: var(--shadow-sm);
  font-size: 0.875rem;
  display: inline-flex;
  align-items: center;
  gap: 0.4rem;
  white-space: nowrap;
  transition: background-color 120ms ease, color 120ms ease, transform 80ms ease,
    box-shadow 120ms ease, opacity 120ms ease;
}

.btn:hover:not([disabled]) {
  background: color-mix(in srgb, var(--color-primary) 85%, #ffffff 15%);
  transform: translateY(-1px);
}

.btn:active:not([disabled]) {
  transform: translateY(0);
  box-shadow: none;
}

/* Disabled primary */
.btn[disabled] {
  background: color-mix(
    in srgb,
    var(--color-primary-soft) 70%,
    var(--color-surface) 30%
  );
  color: color-mix(in srgb, var(--color-muted) 70%, var(--color-fg) 30%);
  border-color: color-mix(
    in srgb,
    var(--color-border) 70%,
    var(--color-primary-soft) 30%
  );
  opacity: 0.9;
  cursor: not-allowed;
  transform: none;
  box-shadow: none;
}

/* ------------- SECONDARY (neutral) button ------------- */

.btn-secondary {
  background: var(--color-surface);
  color: var(--color-fg);
  padding: 0.4rem 0.8rem;
  border-radius: 0.375rem;
  border: 1px solid var(--color-border);
  box-shadow: var(--shadow-sm);
  font-size: 0.875rem;
  display: inline-flex;
  align-items: center;
  gap: 0.4rem;
  white-space: nowrap;
  transition: background-color 120ms ease, color 120ms ease, transform 80ms ease,
    box-shadow 120ms ease, opacity 120ms ease;
}

.btn-secondary:hover:not([disabled]) {
  background: color-mix(
    in srgb,
    var(--color-surface) 75%,
    var(--color-primary-soft) 25%
  );
  transform: translateY(-1px);
}

.btn-secondary:active:not([disabled]) {
  transform: translateY(0);
  box-shadow: none;
}

/* Disabled secondary */
.btn-secondary[disabled] {
  background: color-mix(
    in srgb,
    var(--color-surface) 80%,
    var(--color-border) 20%
  );
  color: var(--color-muted);
  border-color: var(--color-border);
  opacity: 0.8;
  cursor: not-allowed;
  transform: none;
  box-shadow: none;
}

/* ------------- DANGER / destructive button ------------- */

.btn-danger {
  background: var(--spam-bg);
  color: var(--spam-fg);
  padding: 0.4rem 0.8rem;
  border-radius: 0.375rem;
  border: 1px solid color-mix(in srgb, var(--spam-fg) 30%, var(--color-border));
  box-shadow: var(--shadow-sm);
  font-size: 0.875rem;
  display: inline-flex;
  align-items: center;
  gap: 0.4rem;
  white-space: nowrap;
  transition: background-color 120ms ease, color 120ms ease, transform 80ms ease,
    box-shadow 120ms ease, opacity 120ms ease;
}

.btn-danger:hover:not([disabled]) {
  background: color-mix(in srgb, var(--spam-bg) 80%, var(--spam-fg) 20%);
  transform: translateY(-1px);
}

.btn-danger:active:not([disabled]) {
  transform: translateY(0);
  box-shadow: none;
}

.btn-danger[disabled] {
  background: color-mix(in srgb, var(--spam-bg) 60%, var(--color-surface) 40%);
  color: color-mix(in srgb, var(--spam-fg) 60%, var(--color-muted) 40%);
  border-color: color-mix(in srgb, var(--color-border) 70%, var(--spam-bg) 30%);
  opacity: 0.85;
  cursor: not-allowed;
  transform: none;
  box-shadow: none;
}

/* ------------- Email list / rows ------------- */

.email-row {
  background: var(--surface-elev-1);
  border-bottom: 1px solid var(--color-border);
}

.email-row.unread {
  background: var(--surface-elev-2);
}

.email-subject {
  color: var(--color-fg);
}

.email-subject.read {
  color: var(--color-muted);
  font-weight: 500;
}

.email-snippet {
  color: var(--color-muted);
}

/* Unread dot */
.unread-dot {
  height: 8px;
  width: 8px;
  border-radius: 999px;
  background: var(--color-primary);
  display: inline-block;
}

/* Spam badge */
.badge-spam {
  display: inline-flex;
  align-items: center;
  padding: 2px 8px;
  border-radius: 999px;
  font-size: 12px;
  background: var(--spam-bg);
  color: var(--spam-fg);
  border: 1px solid rgba(0, 0, 0, 0.03);
}

/* ------------- Inputs / selects ------------- */

input[type="text"],
input[type="search"],
textarea,
select {
  background: var(--surface-elev-1);
  color: var(--color-fg);
  border: 1px solid var(--color-border);
}

/* Universal placeholder styling */
input::placeholder,
textarea::placeholder {
  color: var(--placeholder);
  opacity: 1; /* avoid extra dimming in Safari */
}

/* Optional: slightly clearer placeholder on focus */
input:focus::placeholder,
textarea:focus::placeholder {
  color: color-mix(in srgb, var(--placeholder) 50%, var(--color-fg) 50%);
}

/* ------------- Focus ring ------------- */

:focus-visible {
  outline: 2px solid color-mix(in srgb, var(--color-primary) 60%, transparent);
  outline-offset: 2px;
}

/* ------------- Transitions ------------- */

html,
body,
.email-row,
.card,
.bg-surface {
  transition: background-color 160ms ease, color 160ms ease,
    border-color 160ms ease;
}

/* simple card helper if needed */
.card,
.bg-surface {
  background: var(--color-surface);
  border-radius: 0.5rem;
  border: 1px solid var(--color-border);
}

/* ------------- Cursor UX affordances ------------- */

/* All actionable buttons */
button,
.btn,
.btn-secondary,
.btn-danger {
  cursor: pointer;
}

/* Disabled hover feedback */
button[disabled],
.btn[disabled],
.btn-secondary[disabled],
.btn-danger[disabled] {
  cursor: not-allowed;
}

/* Checkboxes & radio inputs */
input[type="checkbox"],
input[type="radio"] {
  cursor: pointer;
}

/* Selects */
select {
  cursor: pointer;
}

/* Clickable list rows (opening email) */
.email-row {
  cursor: pointer;
}

/* Prevent accidental pointer on read-only or disabled rows (failsafe) */
.email-row[aria-disabled="true"],
.email-row.disabled {
  cursor: default;
}

/* Links */
a {
  cursor: pointer;
}
